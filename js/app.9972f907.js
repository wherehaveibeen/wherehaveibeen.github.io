(function(t){function e(e){for(var i,o,n=e[0],l=e[1],c=e[2],d=0,h=[];d<n.length;d++)o=n[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(h.length)h.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],i=!0,n=1;n<r.length;n++){var l=r[n];0!==s[l]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=r[0]))}return t}var i={},s={app:0},a=[];function o(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=i,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(r,i,function(e){return t[e]}.bind(null,i));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=l;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var i=r("85ec"),s=r.n(i);s.a},"1e88":function(t,e,r){},2647:function(t,e,r){"use strict";var i=r("7061"),s=r.n(i);s.a},"26b9":function(t,e,r){"use strict";var i=r("a704"),s=r.n(i);s.a},"2f83":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("2b0e"),s=r("2f62"),a={userAuth:void 0,userId:void 0},o={storeUserAuth:function(t,e){t.commit("setUserAuth",e)},storeUserId:function(t,e){t.commit("setUserId",e)}},n={setUserAuth:function(t,e){t.userAuth=e},setUserId:function(t,e){t.userId=e}},l={getUserAuth:function(t){return void 0!==t.userAuth},getUserToken:function(t){return t.userAuth},getUserId:function(t){return t.userId}};i["default"].use(s["a"]);var c=new s["a"].Store({state:a,actions:o,mutations:n,getters:l}),u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("NavigationBar",{attrs:{userLoggedIn:this.userLoggedIn},on:{displayCheckIn:function(e){return t.displayCheckinForm()},displayHistory:function(e){return t.displayHistory()},displaySettings:function(e){return t.displaySettings()}}}),r("Welcome",{directives:[{name:"show",rawName:"v-show",value:!this.userLoggedIn,expression:"!this.userLoggedIn"}]}),r("b-card",{directives:[{name:"show",rawName:"v-show",value:!this.userLoggedIn,expression:"!this.userLoggedIn"}],attrs:{"no-body":"",id:"user-auth-actons"}},[r("b-tabs",{attrs:{card:""}},[r("b-tab",{ref:"loginTab",attrs:{title:"Login",id:"login-form-card"}},[r("LoginForm")],1),r("b-tab",{attrs:{title:"Register",id:"register-form-card"}},[r("RegisterForm",{on:{registrationComplete:function(e){return t.registrationComplete()}}})],1)],1)],1),r("Confidentiality",{directives:[{name:"show",rawName:"v-show",value:!this.userLoggedIn,expression:"!this.userLoggedIn"}]}),r("CheckIn",{directives:[{name:"show",rawName:"v-show",value:this.userLoggedIn&&this.showCheckin,expression:"this.userLoggedIn && this.showCheckin"}],staticClass:"authed-user"}),r("CheckInHistory",{directives:[{name:"show",rawName:"v-show",value:this.userLoggedIn&&this.showHistory,expression:"this.userLoggedIn && this.showHistory"}],staticClass:"authed-user"}),r("Settings",{directives:[{name:"show",rawName:"v-show",value:this.userLoggedIn&&this.showSettings,expression:"this.userLoggedIn && this.showSettings"}],staticClass:"authed-user"})],1)},d=[],h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mb-5",attrs:{id:"nav-bar-container"}},[r("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[r("b-navbar-brand",{attrs:{href:"#"},on:{click:function(e){return t.$emit("displayCheckIn")}}},[t._v("Where Have I Been?")]),r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-button",{directives:[{name:"show",rawName:"v-show",value:t.userLoggedIn,expression:"userLoggedIn"}],staticClass:"ml-2 mr-2",attrs:{id:"covid-report-btn",variant:"danger"},on:{click:function(e){return t.$bvModal.show("covid-modal")}}},[t._v(" I Have Symptoms ")]),r("b-nav-item-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.userLoggedIn,expression:"userLoggedIn"}],attrs:{text:"Account",right:""}},[r("b-dropdown-item",{on:{click:function(e){return t.$emit("displayHistory")}}},[t._v("History")]),r("b-dropdown-item",{on:{click:function(e){return t.$emit("displaySettings")}}},[t._v("Settings")]),r("b-dropdown-item",{on:{click:t.onUserLogout}},[t._v("Log Out")])],1)],1)],1),r("b-modal",{ref:"covid-modal",attrs:{id:"covid-modal","hide-header":"","hide-footer":""}},[r("CovidModal",{on:{confirmReport:function(e){return t.confirmReport()},cancelReport:function(e){return t.cancelReport()}}})],1)],1)},p=[],m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"covid-modal-container"}},[r("h2",[t._v("COVID-19 Reporting")]),r("h3",[t._v("The Symptoms")]),t._m(0),r("h3",[t._v("What you need to do now:")]),t._m(1),r("h3",[t._v("What we will do:")]),t._m(2),r("div",{attrs:{id:"modal-btn"}},[r("b-button",{attrs:{variant:"outline-danger"},on:{click:function(e){return t.cancelReport()}}},[t._v("Cancel")]),r("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.confirmReport()}}},[t._v("Confirm")])],1)])},f=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[t._v("Fever / High Temperature")]),r("li",[t._v("New, continuous dry cough")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[t._v("Confirm or cancel your report with the buttons at the bottom")]),r("li",[t._v("Self-Isolate immediately")]),r("li",[t._v("Check your check in history to make sure it is up-to-date")]),r("li",[t._v("Check local government advice and guidelines")]),r("li",[t._v("Get well soon")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[t._v("Anonymously alert other users who may have crossed paths with you in the last 14 days")])])}],v={name:"CovidModal",methods:{confirmReport:function(){this.$emit("confirmReport")},cancelReport:function(){this.$emit("cancelReport")}}},b=v,g=(r("2647"),r("2877")),w=Object(g["a"])(b,m,f,!1,null,"4087d350",null),y=w.exports,k={name:"NavigationBar",components:{CovidModal:y},props:["userLoggedIn"],data:function(){return{api:{endpoint:"https://wherehaveibeen.azurewebsites.net",responses:[],errors:[]}}},methods:{onUserLogout:function(t){t.preventDefault(),this.$store.dispatch("storeUserAuth",void 0),this.$store.dispatch("storeUserId",void 0)},confirmReport:function(){var t=this;this.$refs["covid-modal"].hide();var e={userId:this.$store.getters.getUserId,IsAtRisk:!0};this.$http.post(this.api.endpoint+"/membership/corona",e).then((function(e){t.api.responses.push(e)})).catch((function(e){t.api.errors.push(e)}))},cancelReport:function(){this.$refs["covid-modal"].hide()}}},_=k,C=(r("6949"),Object(g["a"])(_,h,p,!1,null,"59694942",null)),I=C.exports,A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"login-form-container"}},[r("b-alert",{attrs:{variant:"danger"},model:{value:t.alerts.invalidCredentials,callback:function(e){t.$set(t.alerts,"invalidCredentials",e)},expression:"alerts.invalidCredentials"}},[t._v(" The email / password are incorrect ")]),r("b-form",{on:{submit:t.onLoginSubmit}},[r("b-container",{attrs:{fluid:""}},[r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{cols:"12"}},[r("b-form-group",{attrs:{id:"email-input-group",label:"Email Address:","label-for":"email-input"}},[r("b-form-input",{attrs:{id:"email-input",type:"email",required:"",autocomplete:"username",state:t.fieldState.login},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1)],1),r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{cols:"12"}},[r("b-form-group",{attrs:{id:"password-input-group",label:"Password:","label-for":"password-input"}},[r("b-form-input",{attrs:{id:"password-input",type:"password",required:"",autocomplete:"current-password",state:t.fieldState.login},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1)],1)],1),r("b-button",{staticClass:"login-form-btn",attrs:{id:"login-form-submit-btn",variant:"primary",type:"submit"}},[t._v("Login")])],1)],1)},S=[],$={name:"LoginForm",data:function(){return{api:{endpoint:"https://wherehaveibeen.azurewebsites.net",errors:[]},alerts:{invalidCredentials:!1},fieldState:{login:null},form:{email:"",password:""}}},methods:{clearFields:function(){this.form.email="",this.form.password=""},clearAlerts:function(){this.alerts.invalidCredentials=!1,this.fieldState.login=null},onLoginSubmit:function(t){var e=this;t.preventDefault(),this.clearAlerts();var r={Username:this.form.email,Password:this.form.password};this.$http.post(this.api.endpoint+"/membership/login",r).then((function(t){e.clearFields(),e.clearAlerts(),e.$store.dispatch("storeUserAuth",t.data.token),e.$store.dispatch("storeUserId",t.data.userId)})).catch((function(t){e.alerts.invalidCredentials=!0,e.fieldState.login=!1,e.api.errors.push(t)}))}}},x=$,L=(r("afc5"),Object(g["a"])(x,A,S,!1,null,"3530bbc8",null)),U=L.exports,N=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"register-form-container"}},[r("b-alert",{attrs:{variant:"danger"},model:{value:t.validationAlerts.emailNotMatch,callback:function(e){t.$set(t.validationAlerts,"emailNotMatch",e)},expression:"validationAlerts.emailNotMatch"}},[t._v(" The emails do not match ")]),r("b-alert",{attrs:{variant:"danger"},model:{value:t.validationAlerts.emailNotUnique,callback:function(e){t.$set(t.validationAlerts,"emailNotUnique",e)},expression:"validationAlerts.emailNotUnique"}},[t._v(" This email is already registered ")]),r("b-alert",{attrs:{variant:"danger"},model:{value:t.validationAlerts.passwordNotMatch,callback:function(e){t.$set(t.validationAlerts,"passwordNotMatch",e)},expression:"validationAlerts.passwordNotMatch"}},[t._v(" The passwords do not match ")]),r("b-alert",{attrs:{variant:"danger"},model:{value:t.validationAlerts.policyNotChecked,callback:function(e){t.$set(t.validationAlerts,"policyNotChecked",e)},expression:"validationAlerts.policyNotChecked"}},[t._v(" You must agree to the Privacy Policy ")]),r("b-form",{on:{submit:t.onRegisterSubmit}},[r("b-container",{attrs:{fluid:""}},[r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{id:"new-email-input-group",label:"Email Address:","label-for":"new-email-input"}},[r("b-form-input",{attrs:{id:"new-email-input",type:"email",required:"",autocomplete:"username",state:t.fieldStatus.email},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1),r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{id:"email-validate-input-group",label:"Verify Email Address:","label-for":"email-validate-input"}},[r("b-form-input",{attrs:{id:"email-validate-input",type:"email",required:"",state:t.fieldStatus.email},model:{value:t.form.emailVerify,callback:function(e){t.$set(t.form,"emailVerify",e)},expression:"form.emailVerify"}})],1)],1)],1),r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{id:"new-password-input-group",label:"Password:","label-for":"new-password-input"}},[r("b-form-input",{attrs:{id:"new-password-input",type:"password",required:"",autocomplete:"new-password",state:t.fieldStatus.password},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{id:"password-validate-input-group",label:"Verify Password:","label-for":"password-validate-input"}},[r("b-form-input",{attrs:{id:"password-validate-input",type:"password",required:"",state:t.fieldStatus.password},model:{value:t.form.passwordVerify,callback:function(e){t.$set(t.form,"passwordVerify",e)},expression:"form.passwordVerify"}})],1)],1)],1),r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{cols:"12"}},[r("b-form-checkbox",{attrs:{id:"priv-pol-check",name:"priv-pol-check",value:"true","unchecked-value":"false",state:t.fieldStatus.policy},model:{value:t.form.privacyPolicy,callback:function(e){t.$set(t.form,"privacyPolicy",e)},expression:"form.privacyPolicy"}},[t._v(" I accept the "),r("a",{attrs:{href:"/privacyPolicy.html",target:"_blank"}},[t._v("Privacy Policy")])])],1)],1)],1),r("b-button",{staticClass:"register-form-btn",attrs:{id:"register-form-submit-btn",variant:"primary",type:"submit"}},[t._v("Register")])],1)],1)},P=[],H={name:"RegisterForm",data:function(){return{api:{endpoint:"https://wherehaveibeen.azurewebsites.net",responses:[],errors:[]},validationAlerts:{emailNotMatch:!1,emailNotUnique:!1,passwordNotMatch:!1,policyNotChecked:!1},fieldStatus:{email:null,password:null,policy:null},form:{email:"",emailVerify:"",password:"",passwordVerify:"",privacyPolicy:!1}}},methods:{clearFields:function(){this.form.email="",this.form.emailVerify="",this.form.password="",this.form.passwordVerify="",this.form.privacyPolicy=!1},clearAlerts:function(){this.validationAlerts.emailNotMatch=!1,this.validationAlerts.emailNotUnique=!1,this.validationAlerts.passwordNotMatch=!1,this.validationAlerts.policyNotChecked=!1,this.fieldStatus.email=null,this.fieldStatus.password=null,this.fieldStatus.policy=null},onRegisterSubmit:function(t){var e=this;if(t.preventDefault(),this.clearAlerts(),this.form.email!==this.form.emailVerify)this.clearAlerts(),this.fieldStatus.email=!1,this.validationAlerts.emailNotMatch=!0;else if(this.form.password!==this.form.passwordVerify)this.fieldStatus.password=!1,this.validationAlerts.passwordNotMatch=!0;else if(this.form.privacyPolicy&&"false"!==this.form.privacyPolicy){var r={Username:this.form.email,Email:this.form.email,Password:this.form.password};this.$http.post(this.api.endpoint+"/membership",r).then((function(t){e.api.responses.push(t),e.clearFields(),e.clearAlerts(),e.$emit("registrationComplete")})).catch((function(t){e.fieldStatus.email=!1,e.validationAlerts.emailNotUnique=!0,e.api.errors.push(t)}))}else this.fieldStatus.policy=!1,this.validationAlerts.policyNotChecked=!0}}},T=H,O=(r("8552"),Object(g["a"])(T,N,P,!1,null,"23b4093e",null)),D=O.exports,M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"check-in-container"}},[r("h2",[t._v("Where did you go today?")]),r("gmap-autocomplete",{staticStyle:{width:"75%"},attrs:{placeholder:"Search for a place"},on:{place_changed:t.setPlace}}),r("b-button",{directives:[{name:"show",rawName:"v-show",value:!this.locatingUser,expression:"!this.locatingUser"}],staticClass:"ml-3",attrs:{size:"sm"},on:{click:function(e){return t.geolocate()}}},[t._v("Find Me")]),r("b-button",{directives:[{name:"show",rawName:"v-show",value:this.locatingUser,expression:"this.locatingUser"}],staticClass:"ml-3",attrs:{disabled:"",size:"sm"}},[r("b-spinner",{attrs:{small:""}})],1),r("p"),this.currentPlace?r("div",{attrs:{id:"search-result"}},[r("b-card",{staticClass:"overflow-hidden",attrs:{"no-body":""}},[r("b-row",{attrs:{"no-gutters":""}},[r("b-col",{attrs:{md:"6"}},[r("gmap-map",{ref:"map",staticStyle:{width:"100%",height:"500px"},attrs:{center:t.center,zoom:t.zoomLevel},on:{click:t.clickedOnMap}},[r("gmap-marker",{attrs:{position:t.center}})],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-card-body",{staticClass:"d-flex align-items-start flex-column bd-highlight",staticStyle:{height:"100%"},attrs:{title:this.currentPlace["name"]}},[r("div",{staticClass:"bd-highlight"},[t._v(" "+t._s(this.currentPlace["formatted_address"])+" ")]),r("div",{staticClass:"bd-highlight"},[r("b-row",{attrs:{id:"datetime-pickers"}},[r("b-col",{attrs:{md:"6"}},[r("b-form-datepicker",{staticClass:"mb-3",attrs:{id:"checkin-datepicker",placeholder:t.formattedDate(),"date-format-options":{year:"numeric",month:"numeric",day:"numeric"},"today-button":""},model:{value:t.checkInDate,callback:function(e){t.checkInDate=e},expression:"checkInDate"}})],1),r("b-col",{attrs:{md:"6"}},[r("b-form-timepicker",{staticClass:"mb-3",attrs:{id:"checkin-timepicker",placeholder:t.formattedTime(),"now-button":""},model:{value:t.checkInTime,callback:function(e){t.checkInTime=e},expression:"checkInTime"}})],1)],1)],1),r("div",{staticClass:"mb-auto bd-highlight"},[r("b-row",{attrs:{id:"long-lat-display"}},[r("b-col",{attrs:{md:"6"}},[r("p",[t._v("Latitude: "+t._s(t.center.lat))])]),r("b-col",{attrs:{md:"6"}},[r("p",[t._v("Longitude: "+t._s(t.center.lng))])])],1)],1),r("div",{staticClass:"bd-highlight"},[r("b-row",{staticClass:"align-self-end",attrs:{id:"submit-alert"}},[r("b-alert",{attrs:{dismissible:"",variant:"success"},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" This location has been stored ")]),r("b-alert",{attrs:{dismissible:"",variant:"danger"},model:{value:t.showFailureAlert,callback:function(e){t.showFailureAlert=e},expression:"showFailureAlert"}},[t._v(" Failed to store this Check In."),r("br"),t._v(" Please refresh or try again later ")]),r("b-button",{on:{click:function(e){return t.onCheckInSubmit()}}},[t._v("Check In Here")])],1)],1)])],1)],1)],1)],1):t._e()],1)},F=[],R=(r("a15b"),r("fb6a"),r("bf19"),{name:"CheckIn",data:function(){return{api:{endpoint:"https://wherehaveibeen.azurewebsites.net",responses:[],errors:[]},center:{lat:45.508,lng:-73.587},zoomLevel:12,currentPlace:null,locatingUser:!1,checkInDate:this.formattedDate(),checkInTime:this.formattedTime(),showSuccessAlert:!1,showFailureAlert:!1}},methods:{formattedDate:function(){return(new Date).toJSON().slice(0,10)},formattedTime:function(){return(new Date).toJSON().slice(11,19)},getPosition:function(t){return{lat:parseFloat(t.lat),lng:parseFloat(t.lng)}},setPlace:function(t){this.currentPlace=t,this.zoomLevel=16,this.center.lat=this.currentPlace.geometry.location.lat(),this.center.lng=this.currentPlace.geometry.location.lng()},geolocate:function(){var t=this;this.locatingUser=!0,navigator.geolocation.getCurrentPosition((function(e){t.zoomLevel=12,t.center={lat:e.coords.latitude,lng:e.coords.longitude},t.locatingUser=!1}))},clickedOnMap:function(t){this.center.lat=t.latLng.lat(),this.center.lng=t.latLng.lng()},onCheckInSubmit:function(){var t=this,e=this.$store.getters.getUserToken,r={userId:this.$store.getters.getUserId,latitude:this.center.lat,longitude:this.center.lng,checkin:[this.checkInDate,this.checkInTime].join("T")};this.$http.post(this.api.endpoint+"/visit",r,{headers:{Authorization:"Bearer "+e}}).then((function(e){t.showFailureAlert=!1,t.showSuccessAlert=!0,t.api.responses.push(e)})).catch((function(e){t.showSuccessAlert=!1,t.showFailureAlert=!0,t.api.errors.push(e)}))}}}),j=R,V=(r("7243"),Object(g["a"])(j,M,F,!1,null,"95675bae",null)),z=V.exports,E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"checkin-history-container"}},[r("div",{staticClass:"d-flex mb-4",attrs:{id:"title-bar"}},[t._m(0),r("div",{staticClass:"ml-auto d-flex justify-content-end",attrs:{id:"title-text"}},[r("b-button",{attrs:{id:"refresh-button"},on:{click:function(e){return t.loadHistory()}}},[t._v("Refresh")])],1)]),t._l(this.locations,(function(e){return r("b-card",{key:e.VisitId,staticClass:"location-card overflow-hidden mb-2",attrs:{title:e.Address,"no-body":""}},[r("b-row",{attrs:{"no-gutters":""}},[r("b-col",{attrs:{md:"6"}},[r("gmap-map",{staticStyle:{width:"100%",height:"200px"},attrs:{center:t.findCenter(e),zoom:t.zoomLevel}},[r("gmap-marker",{attrs:{position:t.findCenter(e)}})],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-card-body",{attrs:{title:e.Address}},[t._v(" "+t._s(t.dateFormatter(e.CheckIn))+" ")])],1)],1)],1)}))],2)},q=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex justify-content-center",attrs:{id:"title-text"}},[r("h2",[t._v("Check-In History")])])}],B={name:"CheckInHistory",data:function(){return{api:{endpoint:"https://wherehaveibeen.azurewebsites.net",errors:[]},locations:[],zoomLevel:14}},computed:{currentUserId:function(){return this.$store.getters.getUserId}},watch:{currentUserId:function(){this.loadHistory()}},mounted:function(){this.loadHistory()},methods:{loadHistory:function(){var t=this,e=this.currentUserId;void 0!==e&&this.$http.get(this.api.endpoint+"/visit?userId="+e).then((function(e){t.locations=e.data.reverse()})).catch((function(e){t.api.errors.push(e)}))},findCenter:function(t){return{lat:t.Latitude,lng:t.Longitude}},dateFormatter:function(t){var e=new Date(Date.parse(t));return e}}},W=B,Y=Object(g["a"])(W,E,q,!1,null,null,null),J=Y.exports,G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",[r("h1",[t._v("Where Have I Been?")]),r("p",[t._v(" Help stop the spread of COVID-19 by checking-in to locations you've visited in the recent past. "),r("br"),t._v(" If you've contracted COVID-19 symptoms we will let others know that they are at risk if they visited the same locations as you. "),r("br"),t._v(" Let's work together to stop the spread! ")]),r("p",[t._v(" Login or register for an account to get started. ")])])},K=[],Q={},X=Object(g["a"])(Q,G,K,!1,null,null,null),Z=X.exports,tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",[r("p",[t._v(" Your information will remain private and confidential. Read more in our "),r("a",{attrs:{href:"/privacyPolicy.html",target:"_blank"}},[t._v("Privacy Policy")]),t._v(". ")])])},et=[],rt={},it=Object(g["a"])(rt,tt,et,!1,null,null,null),st=it.exports,at=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"settings-container"}},[r("h2",[t._v("Account Settings")]),r("b-card",{staticClass:"account-setting-card",attrs:{title:"Clear your history"}},[r("b-card-body",[t._v(" This section will remove all the check ins from your account."),r("br"),t._v(" We don't like to see this used as we rely on check in data to power Where Have I Been? "),r("p"),t._v(" But if you still want to, click away "),r("p"),r("b-button",{attrs:{variant:"outline-dark"},on:{click:function(e){return t.onHistoryDelete()}}},[t._v("Clear My History")])],1)],1),r("b-card",{staticClass:"account-setting-card",attrs:{title:"Delete your account"}},[r("b-card-body",[t._v(" This section will clear all the information about you and your check ins and remove your account."),r("br"),t._v(" We'd love to keep you on board and help keep you safe, which will require an account. "),r("p"),t._v(" But if you still want to, click away - there's nothing stopping you making a new one! "),r("p"),r("b-button",{attrs:{variant:"outline-danger"},on:{click:function(e){return t.onAccountDelete()}}},[t._v("Delete My Account")])],1)],1)],1)},ot=[],nt={name:"Settings",data:function(){return{api:{endpoint:"https://wherehaveibeen.azurewebsites.net",responses:[],errors:[]}}},methods:{onHistoryDelete:function(){var t=this;this.$bvModal.msgBoxConfirm("Are you sure you want to delete your history?",{title:"Clear Your History",okVariant:"dark",okTitle:"Yes",cancelVariant:"outline-dark",cancelTitle:"No",hideHeaderClose:!1,centered:!0}).then((function(e){if(e){var r={},i=t.$store.getters.getUserId,s=t.$store.getters.getUserToken;t.$http.post(t.api.endpoint+"/visit/delete/"+i,r,{headers:{Authorization:"Bearer "+s}}).then((function(e){t.api.reponses.push(e)})).catch((function(e){t.api.errors.push(e)}))}})).catch((function(e){t.api.errors.push(e)}))},onAccountDelete:function(){var t=this;this.$bvModal.msgBoxConfirm("Are you sure you want to delete your account?",{title:"Delete Your Account",okVariant:"danger",okTitle:"Yes",cancelVariant:"outline-danger",cancelTitle:"No",hideHeaderClose:!1,centered:!0}).then((function(e){if(e){var r={},i=t.$store.getters.getUserId,s=t.$store.getters.getUserToken;t.$http.post(t.api.endpoint+"/membership/delete/"+i,r,{headers:{Authorization:"Bearer "+s}}).then((function(e){t.$store.dispatch("storeUserAuth",void 0),t.$store.dispatch("storeUserId",void 0),t.api.reponses.push(e)})).catch((function(e){t.api.errors.push(e)}))}})).catch((function(e){t.api.errors.push(e)}))}}},lt=nt,ct=(r("26b9"),Object(g["a"])(lt,at,ot,!1,null,"70214a5e",null)),ut=ct.exports,dt={name:"App",components:{NavigationBar:I,LoginForm:U,RegisterForm:D,CheckIn:z,CheckInHistory:J,Welcome:Z,Confidentiality:st,Settings:ut},data:function(){return{showCheckin:!0,showHistory:!1,showSettings:!1}},computed:{userLoggedIn:function(){return this.$store.getters.getUserAuth}},methods:{registrationComplete:function(){this.$refs.loginTab.activate()},clearComponents:function(){this.showCheckin=!1,this.showHistory=!1,this.showSettings=!1},displayCheckinForm:function(){this.clearComponents(),this.showCheckin=!0},displayHistory:function(){this.clearComponents(),this.showHistory=!0},displaySettings:function(){this.clearComponents(),this.showSettings=!0}}},ht=dt,pt=(r("034f"),Object(g["a"])(ht,u,d,!1,null,null,null)),mt=pt.exports,ft=r("bc3a"),vt=r.n(ft),bt=r("5f5b"),gt=r("755e");r("f9e3"),r("2dd8");i["default"].config.productionTip=!1,i["default"].prototype.$http=vt.a,i["default"].use(bt["a"]),i["default"].use(gt,{load:{key:"AIzaSyA0H6075D1zC22LDpYvYY_DEPhEYSantPM",libraries:"places"}}),new i["default"]({store:c,render:function(t){return t(mt)}}).$mount("#app")},6949:function(t,e,r){"use strict";var i=r("1e88"),s=r.n(i);s.a},7061:function(t,e,r){},7243:function(t,e,r){"use strict";var i=r("c029"),s=r.n(i);s.a},8552:function(t,e,r){"use strict";var i=r("2f83"),s=r.n(i);s.a},"85ec":function(t,e,r){},"863b":function(t,e,r){},a704:function(t,e,r){},afc5:function(t,e,r){"use strict";var i=r("863b"),s=r.n(i);s.a},c029:function(t,e,r){}});
//# sourceMappingURL=app.9972f907.js.map